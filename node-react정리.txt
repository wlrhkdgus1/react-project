이번 강의 빠른 요약 : 두개 합치는건 별거 아니고

서버는 유저가 메인페이지로 접속하면 리액트로 만든 html 파일을 보내주면 끝입니다. 

 
 

서버만들 때 Express + MongoDB를 사용하면 JavaScript 만으로도 풀스택 개발을 체험해볼 수 있는 시대입니다. 

여기다가 React를 더하고 싶은 분들이 많아서 준비했습니다.

리액트/서버개발 다시한번 개념정리부터 들어갑니다.

 

 

 

 

 

서버는 누가 html 파일 요청하면 보내주는 간단한 프로그램입니다.

 

진짜로 서버는 별거 아니고 어떤 고객이 codingapple.com으로 접속하면 거기맞는 html을 보내주는 기계일 뿐입니다.

임시 서버를 Node + Express로 쉽게 만들어봅시다. 

 

1. 작업폴더를 에디터로 오픈 한 뒤에 터미널을 열어서 npm init 입력 후 뭐 선택하라고 하면 엔터 여러번 

2. npm install express 입력  

3. server.js 파일을 만드시고 다음 코드 작성

 

const express = require('express');
const path = require('path');
const app = express();

const http = require('http').createServer(app);
http.listen(8080, function () {
  console.log('listening on 8080')
}); 
 

4. 터미널에서 node server.js 입력하시면 브라우저로 localhost:8080 접속시 서버가 뜹니다. 

5. nodemon이라는게 있다면 nodemon server.js를 입력합니다. 그러면 서버 코드 바꿀 때마다 node server.js 로 다시 입력 안해도 됩니다.

 

 

리액트는 HTML을 이쁘게 만들어주는 툴입니다. 

 

리액트는 스무스하게 동작하는 HTML을 만들고 싶을 때 사용하는 툴입니다.

이걸 일명 웹앱이라고 부르는데 웹앱 만들고 싶을 때 리액트를 쓰십시오. 


▲ 웹앱이 뭐냐면 여러분 카톡 같은 모바일 앱 생각해보시면 됩니다.

그런 앱들은 새로고침 없이 페이지 전환이 샥샥 되죠? 그런 식으로 새로고침할 필요없이 부드럽게 만든 웹사이트를 웹앱 Web App 이라고 칭합니다.   

쌩자바스크립트 코딩으로도 가능하지만 리액트를 쓰면 매우 쉽게 만들어낼 수 있습니다. 그래서 리액트를 사용합니다.

어떤 식으로 개발하는지는 코딩애플 리액트 강좌 무료파트 몇개 들어보시면 대충 이해가 가실겁니다. 

 

 

 

 

 

리액트를 사용하면 Nodejs 서버의 view 부분 기능개발이 필요없습니다.

 

Nodejs 서버만들기 강의를 들으셨던 분들에게 한말씀 드립니다.

우리 지금까지 ejs/html 파일 여러개 만들어서 페이지만들고 그런 짓거리를 하지 않았습니까. 그런거 개발은 리액트가 알아서 할 수 있으니 ejs파일은 버리셔도 됩니다. 

애초에 리액트에서 페이지를 여러개 만들고 그걸 라우팅도 할 수 있습니다.

그니까 "누가 /list로 접속하면 글목록 html들 보여주셈" 을 서버 언어로 짰었는데

이걸 리액트에서도 똑같이 코드를 짤 수 있다는 겁니다. (근데 웹앱처럼 스무스하게 라우팅해줌 베리굿)

 

그래서 리액트 잘쓰면 서버에 작성할 코드는

"유저가 글리스트 요청하면 DB에서 데이터 뽑아서 전해주세요" 라는 데이터 입출력 API밖에 없습니다.  

그리고 가끔 데이터 뽑아주기 전에 미들웨어로 "니 로그인했냐" 라고 물어보는거 그 정도 밖에 없겠군요.  

 

하지만 언제나 리액트쓰는게 마냥 좋은 일은 아닙니다. 웹앱만들고 싶으면 쓰는게 리액트라니까요 

페이지 20개 30개 되는 사이트는 그냥 페이지로 나누는 것도 좋은 선택입니다. 리액트로만 만들면 코드 매우 더러워짐  

그리고 일부 페이지만 웹앱으로 만드는 것도 가능합니다. 

 

 

 

 

 

리액트 프로젝트 만드는 법 

 

지금 하고 있는 server.js 옆에 서브폴더로 리액트 프로젝트를 하나 만들어봅시다. 

0. nodejs 극 최신버전이 아니면 에러납니다. 

1. 터미널에 npx create-react-app 프로젝트명 을 입력합니다. 프로젝트명 자유작명하셈 다만 작명할 때 띄어쓰기하지마십시오. 

2. 그럼 서브폴더에 리액트 프로젝트가 생성되는데 그걸 다시 에디터로 오픈합니다.

3. 리액트 문법으로 열심히 만들고 싶은걸 개발해봅니다. 개발시 코드를 미리보고 싶으면 npm run start 를 입력합니다.   

4. 개발 완료되면 리액트 프로젝트 터미널에 npm run build를 입력하면 리액트 완성본 파일이 build 폴더내에 생성됩니다. 그럼 서버에서 보낼 준비 완료!

 

 

리액트로 만든 HTML 전송하는법 

 

리액트로 개발한 html파일을 고객에게 보내주면 그게 Nodejs 서버랑 리액트 합치는겁니다. 

왜냐면 리액트는 뭐 대단한게 아니라 그냥 html 파일 이쁘게 웹앱스럽게 만들어주는 툴이니까요. 


이걸 서버에다가 이렇게 코드를 짜면 

(server.js)
어떤 놈이 메인페이지로 접속하면 저거 리액트로 build한 index.html 보내주셈
리액트와 Nodejs 서버 합치기 끝입니다. 

 
 
